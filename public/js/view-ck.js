ItemView=Backbone.View.extend({className:".item",events:function(){var e={};e["click #"+this.model.cid]="displayProduct";return e},displayProduct:function(){hawkerboard.navigate("product/"+this.model.cid,{trigger:!0})},render:function(){var e=$("#item-template").html(),t=Handlebars.compile(e),n=this.model.toJSON(),r=this.model.cid;n.cid=r;var i=t(n);this.$el.append(i);this.changeBackground();this.vintageIt()},changeBackground:function(){var e=this.model.get("image")||"../images/fake.jpg",t=$("#"+this.model.cid).css("background","url("+e+") center center no-repeat")},vintageIt:function(){var e={},t={vignette:.4,sepia:!0};$("#"+this.model.cid+" header img").vintage(e,t)}});ItemCardView=Backbone.View.extend({render:function(){var e=$("#product-template").html(),t=Handlebars.compile(e),n=this.model.toJSON(),r=this.model.cid;n.cid=r;var i=t(n);this.$el.html(i)}});AddItemFormView=Backbone.View.extend({events:{"click #add-item":"submit"},render:function(){var e=$("#add-item-form-template").html(),t=Handlebars.compile(e);this.$el.html(e)},submit:function(){this.collection.create({title:$("#item_name").val(),price:$("#item_price").val(),description:$("#item_description").val(),tags:$("#item_tags").val()});hawkerboard.navigate("/",!0)}});IndexView=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"sync",this.render)},render:function(){$("#container").html("");this.collection.forEach(this.renderItem);$("#add-item-button").on("click",this.displayAddItem)},displayAddItem:function(){hawkerboard.navigate("additem",{trigger:!0})},renderItem:function(e){var t=new ItemView({el:"#container",model:e});t.render()}});ProductView=Backbone.View.extend({renderItem:function(e){var t=new ItemCardView({el:"#container",model:e});t.render()}});AddItemView=Backbone.View.extend({render:function(){var e=new AddItemFormView({el:"#container",collection:this.collection});e.render()}});